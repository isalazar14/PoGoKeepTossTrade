[{"C:\\Users\\Ismel\\Google Drive\\Coding\\Projects\\pokemon_go_evaluator\\client\\src\\index.js":"1","C:\\Users\\Ismel\\Google Drive\\Coding\\Projects\\pokemon_go_evaluator\\client\\src\\App.js":"2","C:\\Users\\Ismel\\Google Drive\\Coding\\Projects\\pokemon_go_evaluator\\client\\src\\serviceWorker.js":"3","C:\\Users\\Ismel\\Google Drive\\Coding\\Projects\\pokemon_go_evaluator\\client\\src\\util\\csvReaderPromise.js":"4","C:\\Users\\Ismel\\Google Drive\\Coding\\Projects\\pokemon_go_evaluator\\client\\src\\context\\Context.js":"5","C:\\Users\\Ismel\\Google Drive\\Coding\\Projects\\pokemon_go_evaluator\\client\\src\\components\\CSVDragDrop.jsx":"6","C:\\Users\\Ismel\\Google Drive\\Coding\\Projects\\pokemon_go_evaluator\\client\\src\\components\\CSVResults.jsx":"7","C:\\Users\\Ismel\\Google Drive\\Coding\\Projects\\pokemon_go_evaluator\\client\\src\\components\\PokeList.jsx":"8","C:\\Users\\Ismel\\Google Drive\\Coding\\Projects\\pokemon_go_evaluator\\client\\src\\components\\FieldBar.jsx":"9","C:\\Users\\Ismel\\Google Drive\\Coding\\Projects\\pokemon_go_evaluator\\client\\src\\components\\PokeTile.jsx":"10","C:\\Users\\Ismel\\Google Drive\\Coding\\Projects\\pokemon_go_evaluator\\client\\src\\util\\dbWorker.js":"11"},{"size":1953,"mtime":1637779781629,"results":"12","hashOfConfig":"13"},{"size":1381,"mtime":1637779712800,"results":"14","hashOfConfig":"13"},{"size":5086,"mtime":499162500000,"results":"15","hashOfConfig":"13"},{"size":928,"mtime":1617507756675,"results":"16","hashOfConfig":"13"},{"size":103,"mtime":1595389551352,"results":"17","hashOfConfig":"13"},{"size":3454,"mtime":1615784793202,"results":"18","hashOfConfig":"13"},{"size":618,"mtime":1608793090376,"results":"19","hashOfConfig":"13"},{"size":764,"mtime":1611227213943,"results":"20","hashOfConfig":"13"},{"size":592,"mtime":1595390906027,"results":"21","hashOfConfig":"13"},{"size":178,"mtime":1595390557271,"results":"22","hashOfConfig":"13"},{"size":845,"mtime":1617507756672,"results":"23","hashOfConfig":"13"},{"filePath":"24","messages":"25","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"ncg3c3",{"filePath":"26","messages":"27","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"28","messages":"29","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"31","messages":"32","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"33","messages":"34","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"35","messages":"36","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"37","usedDeprecatedRules":"30"},{"filePath":"38","messages":"39","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"40","usedDeprecatedRules":"30"},{"filePath":"41","messages":"42","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"43","messages":"44","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"45","messages":"46","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"47","messages":"48","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"49","usedDeprecatedRules":"30"},"C:\\Users\\Ismel\\Google Drive\\Coding\\Projects\\pokemon_go_evaluator\\client\\src\\index.js",["50","51"],"C:\\Users\\Ismel\\Google Drive\\Coding\\Projects\\pokemon_go_evaluator\\client\\src\\App.js",["52","53"],"C:\\Users\\Ismel\\Google Drive\\Coding\\Projects\\pokemon_go_evaluator\\client\\src\\serviceWorker.js",[],["54","55"],"C:\\Users\\Ismel\\Google Drive\\Coding\\Projects\\pokemon_go_evaluator\\client\\src\\util\\csvReaderPromise.js",[],"C:\\Users\\Ismel\\Google Drive\\Coding\\Projects\\pokemon_go_evaluator\\client\\src\\context\\Context.js",[],"C:\\Users\\Ismel\\Google Drive\\Coding\\Projects\\pokemon_go_evaluator\\client\\src\\components\\CSVDragDrop.jsx",["56","57"],"import React, { useContext } from \"react\";\r\nimport { CSVReader } from \"react-papaparse\";\r\nimport { navigate } from \"@reach/router\";\r\nimport Context from \"../context/Context\";\r\nimport DbWorker from \"workerize-loader!../util/dbWorker.js\"; // eslint-disable-line import/no-webpack-loader-syntax\r\n\r\nconst CVSDragDrop = () => {\r\n  const { setPokeListState, setFieldState } = useContext(Context);\r\n  const db = new DbWorker();\r\n  \r\n  const cleanHeaders = (header) => {\r\n    // console.log(header);\r\n    // const cleanHeader = header.toLowerCase().split(\" \").join(\"_\").trim().replace();\r\n    const cleanHeader = header.toLowerCase().replace(/\\s/g,\"_\").replace(/\\((.)\\)/g,\"$1l\");\r\n    console.log(cleanHeader);\r\n    return cleanHeader\r\n  }\r\n  const handleOnDrop = (data) => {\r\n    console.log(\"---------------------------\");\r\n    console.log(\"File dropped in\");\r\n    console.log(data);\r\n    \r\n    // extract headers from first row, replace spaces with underscores, trim trailing whitespace;\r\n    let headersArr = data[0].meta.fields.map((field) =>\r\n      field.split(\" \").join(\"_\").trim()\r\n    );\r\n    // convert headers array into object, with all fields set as true\r\n    let headersObj = {};\r\n    headersArr.forEach((field) => (headersObj[field] = true));\r\n    //add headers to fieldState\r\n    setFieldState(headersObj);\r\n\r\n    // reducer function to extract 'data' object from csv parsed rows, and filter out blank rows\r\n    let reducer = (rows, row) => {\r\n      if (row.errors.length === 0) {\r\n        // console.log(\"no errors\", row.data);\r\n        rows.push(row.data);\r\n      }\r\n      return rows;\r\n    };\r\n    let dataRows = data.reduce(reducer, []);\r\n    let dataArr = []\r\n    let objToArrStart = console.time(\"objToArr\")\r\n    // dataRows.forEach((row)=>dataArr.push(Object.keys(row).map(key=>row[key])))\r\n    dataRows.forEach((row)=>dataArr.push(Object.values(row)))\r\n    let objToArrEnd = console.timeEnd(\"objToArr\")\r\n    console.log(\"time to convert data obj to arr\", objToArrEnd - objToArrStart);\r\n    console.log(\"headers array\", headersArr)\r\n    console.log(\"headers object\", headersObj)\r\n    console.log(\"data array\", dataArr)\r\n    // save array of pokemon data to pokelist state\r\n    setPokeListState(dataRows);\r\n    console.log(\"---------------------------\");\r\n    navigate(\"results\");\r\n  };\r\n\r\n  const handleOnError = (err, file, inputElem, reason) => {\r\n    console.error(err);\r\n  };\r\n\r\n  const handleOnRemoveFile = (data) => {\r\n    console.log(\"---------------------------\");\r\n    console.log(\"File removed\");\r\n    console.log(data);\r\n    console.log(\"---------------------------\");\r\n  };\r\n  \r\n  \r\n  const handleOnFileLoad = (data) => {\r\n    console.log(\"---------------------------\");\r\n    console.log(\"File loaded\");\r\n    console.log(data);\r\n    db.saveUserData(data)\r\n    // setPokeListState(data);\r\n    console.log(\"---------------------------\");\r\n  };\r\n  const handleComplete = (results) => {\r\n    console.log(results);\r\n  }\r\n\r\n\r\n  return (\r\n    <CSVReader\r\n      // onDrop={handleOnDrop}\r\n      onFileLoad={handleOnFileLoad}\r\n      onError={handleOnError}\r\n      addRemoveButton\r\n      onRemoveFile={handleOnRemoveFile}\r\n      config={{ header: true, dynamicTyping: true, skipEmptyLines: true, \r\n        // worker: true,\r\n        transformHeader: cleanHeaders,\r\n        // complete: handleOnFileLoad\r\n      }}\r\n    >\r\n      <span>Drop CSV file here or click to upload.</span>\r\n    </CSVReader>\r\n  );\r\n};\r\n\r\nexport default CVSDragDrop;\r\n","C:\\Users\\Ismel\\Google Drive\\Coding\\Projects\\pokemon_go_evaluator\\client\\src\\components\\CSVResults.jsx",["58"],"import React from \"react\";\r\nimport PokeList from \"./PokeList\";\r\nimport FieldBar from \"./FieldBar\";\r\n\r\nconst CSVResults = (props) => {\r\n  return (\r\n    <div className=\"row\">\r\n      {/* <FieldBar fieldState={fieldState} setFieldState={setFieldState} /> */}\r\n      {/* <div className=\"col-2 mx-2 bg-dark\">\r\n        <FieldBar />\r\n      </div> */}\r\n      <div className=\"col\">\r\n        <PokeList\r\n        // pokeListState={pokeListState}\r\n        // pokeDB={pokeDB}\r\n        // fieldState={fieldState}\r\n        // setFieldState={setFieldState}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CSVResults;\r\n","C:\\Users\\Ismel\\Google Drive\\Coding\\Projects\\pokemon_go_evaluator\\client\\src\\components\\PokeList.jsx",[],"C:\\Users\\Ismel\\Google Drive\\Coding\\Projects\\pokemon_go_evaluator\\client\\src\\components\\FieldBar.jsx",[],"C:\\Users\\Ismel\\Google Drive\\Coding\\Projects\\pokemon_go_evaluator\\client\\src\\components\\PokeTile.jsx",[],"C:\\Users\\Ismel\\Google Drive\\Coding\\Projects\\pokemon_go_evaluator\\client\\src\\util\\dbWorker.js",["59","60"],"import db from '../util/db'\r\nimport readCsv from './csvReaderPromise'\r\n\r\nexport const initDB = async () => {\r\n  // db = await import('./db');\r\n  // console.log(\"db after init, from dbworker\",db);\r\n  return\r\n}\r\n\r\nexport const logDbTables = () => {return db._allTables};\r\n\r\nconst cleanPokeGenieData = data => {\r\n\r\n}\r\n\r\nexport const saveUserData = csvResults => {\r\n  const t0 = performance.now()\r\n  db.user_data.bulkPut(csvResults.map(row=>{\r\n    // rename properties to be used for IDB index\r\n    row.data.id = row.data.index;\r\n    row.data.pokemon_id = row.data.pokemon_number;\r\n\r\n    delete row.data.index;\r\n    delete row.data.pokemon_number;\r\n\r\n    return row.data\r\n  }))\r\n  .then((lastKey)=>{\r\n    const t1 = performance.now();\r\n    console.log(`saved pokegenie. Last entry id: ${lastKey}`)\r\n    console.log(`Timing: ${t1 - t0} ms`);\r\n  })\r\n}",{"ruleId":"61","severity":1,"message":"62","line":7,"column":8,"nodeType":"63","messageId":"64","endLine":7,"endColumn":15},{"ruleId":"61","severity":1,"message":"65","line":8,"column":8,"nodeType":"63","messageId":"64","endLine":8,"endColumn":16},{"ruleId":"61","severity":1,"message":"66","line":1,"column":27,"nodeType":"63","messageId":"64","endLine":1,"endColumn":36},{"ruleId":"61","severity":1,"message":"67","line":7,"column":8,"nodeType":"63","messageId":"64","endLine":7,"endColumn":12},{"ruleId":"68","replacedBy":"69"},{"ruleId":"70","replacedBy":"71"},{"ruleId":"61","severity":1,"message":"72","line":18,"column":9,"nodeType":"63","messageId":"64","endLine":18,"endColumn":21},{"ruleId":"61","severity":1,"message":"73","line":77,"column":9,"nodeType":"63","messageId":"64","endLine":77,"endColumn":23},{"ruleId":"61","severity":1,"message":"74","line":3,"column":8,"nodeType":"63","messageId":"64","endLine":3,"endColumn":16},{"ruleId":"61","severity":1,"message":"62","line":2,"column":8,"nodeType":"63","messageId":"64","endLine":2,"endColumn":15},{"ruleId":"61","severity":1,"message":"75","line":12,"column":7,"nodeType":"63","messageId":"64","endLine":12,"endColumn":25},"no-unused-vars","'readCsv' is defined but never used.","Identifier","unusedVar","'DbWorker' is defined but never used.","'useEffect' is defined but never used.","'Papa' is defined but never used.","no-native-reassign",["76"],"no-negated-in-lhs",["77"],"'handleOnDrop' is assigned a value but never used.","'handleComplete' is assigned a value but never used.","'FieldBar' is defined but never used.","'cleanPokeGenieData' is assigned a value but never used.","no-global-assign","no-unsafe-negation"]